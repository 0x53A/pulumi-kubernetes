// *** WARNING: this file was generated by the Pulumi Kubernetes codegen tool. ***
// *** Do not edit by hand unless you're certain you know what you are doing! ***

package v1beta1

import (
	"context"
	"reflect"

	"github.com/pulumi/pulumi/sdk/go/pulumi"
)

// PodDisruptionBudgetStatus represents information about the status of a PodDisruptionBudget.
// Status may trail the actual state of a system.
type PodDisruptionBudgetStatus struct {
	// current number of healthy pods
	CurrentHealthy int `pulumi:"currentHealthy"`

	// minimum desired number of healthy pods
	DesiredHealthy int `pulumi:"desiredHealthy"`

	// DisruptedPods contains information about pods whose eviction was processed by the API server
	// eviction subresource handler but has not yet been observed by the PodDisruptionBudget
	// controller. A pod will be in this map from the time when the API server processed the eviction
	// request to the time when the pod is seen by PDB controller as having been marked for deletion
	// (or after a timeout). The key in the map is the name of the pod and the value is the time when
	// the API server processed the eviction request. If the deletion didn't occur and a pod is still
	// there it will be removed from the list automatically by PodDisruptionBudget controller after
	// some time. If everything goes smooth this map should be empty for the most of the time. Large
	// number of entries in the map may indicate problems with pod deletions.
	DisruptedPods map[string]string `pulumi:"disruptedPods"`

	// Number of pod disruptions that are currently allowed.
	DisruptionsAllowed int `pulumi:"disruptionsAllowed"`

	// total number of pods counted by this disruption budget
	ExpectedPods int `pulumi:"expectedPods"`

	// Most recent generation observed when updating this PDB status. PodDisruptionsAllowed and other
	// status informatio is valid only if observedGeneration equals to PDB's object generation.
	ObservedGeneration *int `pulumi:"observedGeneration"`

}

var _PodDisruptionBudgetStatusType = reflect.TypeOf((*PodDisruptionBudgetStatus)(nil)).Elem()

// PodDisruptionBudgetStatusInput represents an input type that resolves to a PodDisruptionBudgetStatus.
type PodDisruptionBudgetStatusInput interface {
	ElementType() reflect.Type

	ToPodDisruptionBudgetStatusOutput() PodDisruptionBudgetStatusOutput
	ToPodDisruptionBudgetStatusOutputWithContext(ctx context.Context) PodDisruptionBudgetStatusOutput
}

// PodDisruptionBudgetStatusArgs is a PodDisruptionBudgetStatusInput whose fields are all Input types.
type PodDisruptionBudgetStatusArgs struct {
	// current number of healthy pods
	CurrentHealthy pulumi.IntInput `pulumi:"currentHealthy"`

	// minimum desired number of healthy pods
	DesiredHealthy pulumi.IntInput `pulumi:"desiredHealthy"`

	// Number of pod disruptions that are currently allowed.
	DisruptionsAllowed pulumi.IntInput `pulumi:"disruptionsAllowed"`

	// total number of pods counted by this disruption budget
	ExpectedPods pulumi.IntInput `pulumi:"expectedPods"`

	// DisruptedPods contains information about pods whose eviction was processed by the API server
	// eviction subresource handler but has not yet been observed by the PodDisruptionBudget
	// controller. A pod will be in this map from the time when the API server processed the eviction
	// request to the time when the pod is seen by PDB controller as having been marked for deletion
	// (or after a timeout). The key in the map is the name of the pod and the value is the time when
	// the API server processed the eviction request. If the deletion didn't occur and a pod is still
	// there it will be removed from the list automatically by PodDisruptionBudget controller after
	// some time. If everything goes smooth this map should be empty for the most of the time. Large
	// number of entries in the map may indicate problems with pod deletions.
	DisruptedPods pulumi.StringMapInput `pulumi:"disruptedPods"`

	// Most recent generation observed when updating this PDB status. PodDisruptionsAllowed and other
	// status informatio is valid only if observedGeneration equals to PDB's object generation.
	ObservedGeneration pulumi.IntInput `pulumi:"observedGeneration"`

}

func (a PodDisruptionBudgetStatusArgs) ElementType() reflect.Type {
	return _PodDisruptionBudgetStatusType
}

func (a PodDisruptionBudgetStatusArgs) ToPodDisruptionBudgetStatusOutput() PodDisruptionBudgetStatusOutput {
	return pulumi.ToOutput(a).(PodDisruptionBudgetStatusOutput)
}

func (a PodDisruptionBudgetStatusArgs) ToPodDisruptionBudgetStatusOutputWithContext(ctx context.Context) PodDisruptionBudgetStatusOutput {
	return pulumi.ToOutputWithContext(ctx, a).(PodDisruptionBudgetStatusOutput)
}

// PodDisruptionBudgetStatusOutput is an output type that resolves to a Input.
type PodDisruptionBudgetStatusOutput struct { *pulumi.OutputState }

func init() { pulumi.RegisterOutputType(PodDisruptionBudgetStatusOutput{}) }

func (PodDisruptionBudgetStatusOutput) ElementType() reflect.Type {
	return _PodDisruptionBudgetStatusType
}

func (o PodDisruptionBudgetStatusOutput) CurrentHealthy() pulumi.IntOutput {
	return o.Apply(func(v PodDisruptionBudgetStatus) int {
		return v.CurrentHealthy
	}).(pulumi.IntOutput)
}

func (o PodDisruptionBudgetStatusOutput) DesiredHealthy() pulumi.IntOutput {
	return o.Apply(func(v PodDisruptionBudgetStatus) int {
		return v.DesiredHealthy
	}).(pulumi.IntOutput)
}

func (o PodDisruptionBudgetStatusOutput) DisruptedPods() pulumi.StringMapOutput {
	return o.Apply(func(v PodDisruptionBudgetStatus) map[string]string {
		return v.DisruptedPods
	}).(pulumi.StringMapOutput)
}

func (o PodDisruptionBudgetStatusOutput) DisruptionsAllowed() pulumi.IntOutput {
	return o.Apply(func(v PodDisruptionBudgetStatus) int {
		return v.DisruptionsAllowed
	}).(pulumi.IntOutput)
}

func (o PodDisruptionBudgetStatusOutput) ExpectedPods() pulumi.IntOutput {
	return o.Apply(func(v PodDisruptionBudgetStatus) int {
		return v.ExpectedPods
	}).(pulumi.IntOutput)
}

func (o PodDisruptionBudgetStatusOutput) ObservedGeneration() pulumi.IntOutput {
	return o.Apply(func(v PodDisruptionBudgetStatus) *int {
		return v.ObservedGeneration
	}).(pulumi.IntOutput)
}

